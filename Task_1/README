Так как я не смог реализовать данное задание в виде кода, я описал решение
в двух вариациях.

Вариант 1
1. Создание листинга всех файлов и их директорий.
2. При помощи рекурсивной функции получаем список всех файлов.
3. Отсеиваем txt от папок.
4. Получившийся массив текстовых файлов сортируем по алфавиту и конкатенируем,
то есть в итоговый файл OutPut вставляем наш txt.
5. Перед тем как вставить файл в массив, делаем проверку на require.
6. Если require в итоге ссылается на начало, то есть замкнутый, то выводим
ошибку (error).
7. Если require вызываются последовательно и они не замкнуты, то
по очередно заносим файлы в OutPut. То есть, если в первом txt через require
вызывается второй, то сначала в OutPut заносим второй файл, а потом первый.
8. Если require отсутствует, то просто заносим txt в файл OutPut. 

Вариант 2
1. Создаем массив файлов в массиве директорий.
2. Находим все директории и складываем их в массив(пути)
3. Сортируем по имени в алфавитном порядке.
4. Заходим в каждую директиву и перебираем все вложенные файлы  в этой
директиве и записываем их в массив (записываем в массив пути до файла).
5. При том записываем их в обратном порядке.
6. После того как мы собрали все массивы, идем по массиву директорий и 
заходим в первый, в нем заходим во вложенный массив и идем по нему читаяя 
файлы и переписывая их в содержимое конечного файла (OutPut).












 

